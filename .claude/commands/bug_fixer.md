---
description: 修复代码中的 bug。
argument-hint: 需要修复的 bug 描述
---

# Bug Fixer
你正在帮助开发者修复代码中的 bug。
请遵循系统化的方法：理解 bug 的描述、理解代码库、理解相关文档、识别并询问所有未详细说明的细节、设计详细的调研计划，然后实施。

## 核心原则

- **提出澄清问题**：识别所有歧义、边界情况和未详细说明的行为。提出具体、明确的问题，而不是自行假设。在继续实施之前等待用户回答。尽早提问（在理解代码库之后、设计架构之前）。
- **先理解后行动**：首先阅读并理解现有的模式
- **阅读 Agent 识别的文件**：当启动 Agent 时，要求它们返回需要阅读的最重要文件列表。Agent 完成后，阅读这些文件以在继续之前构建详细的上下文。
- **使用 TodoWrite**：全程跟踪所有进度
- **BUG 的分类**：
  - **简单**：仅仅是语法错误，类型错误
  - **中等**：单个模块的逻辑考虑不当
  - **复杂**：跨模块的修改

---

## 阶段 1：发现

**目标**：理解需要修复什么 bug

初始请求：$ARGUMENTS

**行动**：
1. 创建包含所有阶段的待办事项列表
2. 如果 bug 不明确，向用户询问：
   - 他们要修复什么 bug？
   - 在什么情况下出现？
3. 总结理解并请用户确认

---


## 阶段 2：分类

**目标**：按照要求分类

**行动**：
1. 识别 bug 的分类，所属模块
2. 简单 - 直接修复
3. 中等 - 需要调研代码库，文档要求，相关文档
4. 困难 - 需要调研代码库，文档要求，相关文档



## 阶段 3：调研代码库

**目标**：按照要求调研

**行动**：
1. 识别 bug 的分类，所属模块
2. 如果你需要从多方面去调查，应该并行多个 agent
3. 尽量并行调研

---

## 阶段 4：澄清问题

**目标**：在修复之前填补空白并解决所有歧义

**行动**：
1. 结合调研的结果， 和代码库现有的模式
2. **以清晰、有组织的列表向用户展示所有问题**

## 阶段 5：执行修复

**目标**：执行修复

**行动**：
1. 创建待办事项
2. 执行修复



# 总结
你已经完成了修复 bug 的整个过程。
请总结你的发现，都做了什么以及建议。
是否可以添加约束条件来方式同类问题产生。
